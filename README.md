# Spectral technical assignment

This is a technical assignment for SE.

# Build and run

To run this project, you'll need **docker** and **docker-compose**

Run all commands from root folder of the project.

## Step 1 (Build proto)

Build image with autogenerated gRPC service
```sh
docker build protos -t protos
```

## Step 2 (Build, run and connect)
Run services
```sh
docker-compose up --build
```

Connect on http://localhost:9000/

## Cleanup step

```sh
docker-compose rm -f
```

## Test and coverage

To run tests/ coverage or run linter use command

```sh
docker-compose exec website spectral
```

# Summary

As a client-side backend, I use Flask. The frontend calls Flask, then Flask makes a request to the gRPC server, reads the response, and returns JSON to the frontend.

A separate image is used to share client/ server autogenerated code and message classes between the gRPC client and the gRPC server. 

On a gRPC server, mockup of database which reads provided CSV file and fully returns its content in naive usage. As protobuf documentation says, the protocol can cause memory spikes if messages are too large. In our scenario, it doesn't seem to be a problem. But better implementation is used anyway with requests which contain the page number and size of the page.

Tests run in the client backend, and are straightforward: page renders and simple requests to the gRPC server.
